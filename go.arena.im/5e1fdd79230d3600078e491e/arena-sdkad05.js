var ARENA_API_VERSION="0.0.7";!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var r in n)("object"==typeof exports?exports:e)[r]=n[r]}}(this,function(){var e="undefined"!=typeof window?window:{},t=e.ARENA_HUB_CLIENT_ID,n="arena_hub_anonymous_id",r=new h,a=new y,i=new p,o=null,u=[],s=[],c=[],d=new g;function f(t,n,r){var i,s,c,f,p,y,g;t?n&&(i=document.querySelector("#arena-live"),s=document.querySelector("#arena-chat"),c=document.querySelector(".arena-liveblog"),f=document.querySelector(".arena-chat"),p=document.querySelector(".arena-embed-widget"),y=document.querySelector(".arena-home-app"),g=document.querySelector(".arena-embed-frame"),i||s||c||f||p||y||g)||(r&&r.googleAnalytics&&d.setConfig(r.googleAnalytics),u.indexOf(t)>-1||(u.push(t),o=t,l({type:"page",properties:m()}),n&&a.arenaUserId()&&l({type:"identify",traits:{}}),function(){if(!e.arenaHub.execQueue)return;const t=e.arenaHub.execQueue;try{for(;t.length;){var n=t.shift();A[n.type].apply(null,n.arguments)}}catch(e){console.info("Can't execute user commands")}}(),e.arenaHub.initCalled=!0)):console.error("Can't get the siteId")}function l(t){var n=a.anonymousId();if(!n)return s.push(t);if(o){var r=t.type,i=t.properties,u=t.event,c=t.traits;i=i||{};var f={userId:a.userId(),anonymousId:n,type:r,context:v(t.context),messageId:I(),timestamp:b(),writeKey:o,sentAt:b(),properties:i,arenaUserId:a.arenaUserId()};u&&(f.event=u),c&&(f.traits=c),i&&(f.properties=i),function(t,n){var r=new e.XMLHttpRequest;if(!r)return!1;r.onreadystatechange=function(){if(4===r.readyState){if(200===r.status)return void(n&&n(r.responseText));n&&n(null)}};var a="https://api.arena.im/v2/collect";if(a.indexOf("{{")>=0){var i="https://api.arena.im/v2";if("function"==typeof require){var o=require("../config");o&&o.API_V2_URL&&(i=o.API_V2_URL)}a=a.replace("https://api.arena.im/v2",i)}r.open("POST",a),r.setRequestHeader("Content-Type","text/plain;charset=UTF-8"),r.send(JSON.stringify(t))}(f),d.isSettled()&&f.event&&d.send(f.event)}}function p(){this.id=null,this.type=null}function y(){this.anonymousIdValue=null}function g(){this.trackerName=e.ARENA_CUSTOM_GA_TRACKER_PREFIX,this.trackerType=e.ARENA_CUSTOM_GA_TRACKER_TYPE,this.eventCategory=e.ARENA_CUSTOM_GA_EVENT_CATEGORY,this.eventLabel=e.ARENA_CUSTOM_GA_EVENT_LABEL}function h(){if(e.localStorage)this.store={get:function(t){var n;n=e.localStorage.getItem?e.localStorage.getItem(t):e.localStorage.get(t);try{return n=JSON.parse(n)}catch(e){return n}},set:function(t,n){return"string"==typeof n||n instanceof String||(n=JSON.stringify(n)),e.localStorage.setItem(t,n)},remove:function(t){return e.localStorage.removeItem(t)}};else{var t={get:function(e){for(var t=e+"=",n=document.cookie.split(";"),r=0;r<n.length;r++){for(var a=n[r];" "===a.charAt(0);)a=a.substring(1,a.length);if(0===a.indexOf(t)){var i=a.substring(t.length,a.length);try{return i=JSON.parse(i)}catch(e){return i}}}return null},set:function(e,t){!function(e,t,n){"string"==typeof t||t instanceof String||(t=JSON.stringify(t));var r="";if(n){var a=new Date;a.setTime(a.getTime()+24*n*60*60*1e3),r="; expires="+a.toUTCString()}document.cookie=e+"="+(t||"")+r+"; path=/"}(e,t,365)},remove:function(e){document.cookie=e+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/"}};this.store=t}}function v(t){var n={library:{name:"arena-hub.min.js",version:ARENA_API_VERSION},page:m(),userAgent:navigator.userAgent,widgetId:i.id,widgetType:i.type,browserLanguage:e.navigator.userLanguage||e.navigator.language};return t&&Object.keys(t).forEach(function(e){n[e]=t[e]}),n}function m(){return{path:e.location.pathname,referrer:document.referrer,search:e.location.search,title:document.title,url:e.location.href}}function _(e){var t=document.createElement("iframe");t.style.display="none",t.src=e+"/arenahubframe",t.name="arena-hub-frame",document.body.appendChild(t)}function b(){return(new Date).toISOString()}function I(){try{return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,function(t){return(t^e.crypto.getRandomValues(new Uint8Array(1))[0]&15>>t/4).toString(16)})}catch(e){console.info("The browser doesn't support web cryptography")}var t=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var n=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"===e?n:3&n|8).toString(16)})}function x(e){var t=a.anonymousId();return t?(e&&e(t),t):c.push(e)}p.prototype.setId=function(e){return this.id=e,e},p.prototype.setType=function(e){return this.type=e,e},y.prototype.identify=function(e,t){t=t||{};var n=a.userId();null!==n&&n!==e||(t=Object.assign({},a.traits()||{},t)),e&&a.userId(e),a.traits(t),l({type:"identify",traits:t})},y.prototype.arenaIdentify=function(e,t){e&&a.arenaUserId(e),t&&a.userId(t),l({type:"identify",traits:{}})},y.prototype.removeArenaIdentify=function(){a.arenaUserId(null)},y.prototype.traits=function(e){return e?(r.set("arena_hub_user_traits",e),e):(e=r.get("arena_hub_user_traits"))||null},y.prototype.userId=function(e){return e?(r.set("arena_hub_user_id",e),e):(e=r.get("arena_hub_user_id"))?e+"":null},y.prototype.arenaUserId=function(e){return void 0!==e?null===e?r.remove("arena_hub_arena_user_id"):(r.set("arena_hub_arena_user_id",e),e):(e=r.get("arena_hub_arena_user_id"))||null},y.prototype.anonymousId=function(e){return void 0!==e?null===e?void(this.anonymousIdValue=null):(this.anonymousIdValue=e,e):(e=this.anonymousIdValue)||null},g.prototype.setConfig=function(e){e.trackerName&&(this.trackerName=e.trackerName),e.trackerType&&(this.trackerType=e.trackerType),e.eventCategory&&(this.eventCategory=e.eventCategory),e.eventLabel&&(this.eventLabel=e.eventLabel)},g.prototype.isSettled=function(){return(e.ga||e.gtag||e._trackEvent)&&!!this.trackerType},g.prototype.send=function(t){try{switch(this.trackerType){case"web-tracking-analyticsjs":var n={hitType:"event",eventAction:t};this.eventCategory&&(n.eventCategory=this.eventCategory),this.eventLabel&&(n.eventLabel=this.eventLabel);var r="send";this.trackerName&&(r=this.trackerName+".send"),e.ga(r,n);break;case"web-tracking-gtagjs":var a={};this.eventCategory&&(a.event_category=this.eventCategory),this.eventLabel&&(a.event_label=this.eventLabel),e.gtag("event",t,a);break;case"web-tracking-gajs":e._trackEvent(this.eventCategory,t,this.eventLabel)}}catch(e){console.info("GA tracking method is not available")}},h.prototype.get=function(e){return this.store.get(e)},h.prototype.set=function(e,t){this.store.set(e,t)},h.prototype.remove=function(e){this.store.remove(e)};var A={initialized:!0,initCalled:!1,track:function(e,t,n){l({type:"track",properties:t,event:e,context:n})},identify:function(e,t){"string"==typeof e||e instanceof String?a.identify(e,t):a.identify(null,e)},init:f,arenaIdentify:function(e,t){a.arenaIdentify(e,t)},removeArenaIdentify:function(){a.removeArenaIdentify()},setWidgetInfo:function(e){e.id&&i.setId(e.id),e.type&&i.setType(e.type)},getAnonymousId:x};return function(){if("undefined"!=typeof window){var t=function(){var e="https://go.arena.im";if(e.indexOf("{{")>=0){var t="https://go.arena.im";if("function"==typeof require){var n=require("../config");n&&n.MAIN_URL&&(t=n.MAIN_URL)}e=e.replace("https://go.arena.im",t)}return e}();e.addEventListener("message",e=>{if(e.origin===t&&e.data.type===n){for(a.anonymousId(e.data.value);s.length;)l(s.shift());for(;c.length;)x(c.shift())}},!1),"complete"!==document.readyState&&"loaded"!==document.readyState&&"interactive"!==document.readyState||_(t),e.addEventListener("DOMContentLoaded",e=>{_(t)})}}(),e.arenaHub?(e.arenaHub=Object.assign({},e.arenaHub,A),e.arenaHub.widgetId&&i.setId(e.arenaHub.widgetId),e.arenaHub.widgetType&&i.setType(e.arenaHub.widgetType),t?f(t,!0):e.arenaHub.clientId&&f(e.arenaHub.clientId,!0)):e.arenaHub=A,A});if(!window.arenaHub.initCalled){window.arenaHub.init("NWUxZmRkNzkyMzBkMzYwMDA3OGU0OTFlOmpzOmRlZmF1bHQ=",true)}